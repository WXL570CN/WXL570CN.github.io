(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{340:function(t,s,e){"use strict";e.r(s);var a=e(7),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"dependent-queries"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dependent-queries"}},[t._v("#")]),t._v(" Dependent Queries")]),t._v(" "),e("p",[t._v("依赖（或串行）查询依赖于之前的查询才能执行。要实现这一点，就像使用 enabled 选项告诉查询何时准备好运行一样简单：")]),t._v(" "),e("div",{staticClass:"language-tsx extra-class"},[e("pre",{pre:!0,attrs:{class:"language-tsx"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Get the userconst { data: user } = useQuery({  queryKey: ['user', email],  queryFn: getUserByEmail,})")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" userId "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" user"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?.")]),t._v("id\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Then get the user's projectsconst {  status,  fetchStatus,  data: projects,} = useQuery({  queryKey: ['projects', userId],  queryFn: getProjectsByUser,  // The query will not execute until the userId exists  enabled: !!userId,})")]),t._v("\n")])])]),e("p",[t._v("项目查询将从以下时间开始：")]),t._v(" "),e("div",{staticClass:"language-tsx extra-class"},[e("pre",{pre:!0,attrs:{class:"language-tsx"}},[e("code",[t._v("status"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'loading'")]),t._v("fetchStatus"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'idle'")]),t._v("\n")])])]),e("p",[t._v("一旦用户可用，项目查询将被启用，然后将转换为：")]),t._v(" "),e("div",{staticClass:"language-tsx extra-class"},[e("pre",{pre:!0,attrs:{class:"language-tsx"}},[e("code",[t._v("status"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'loading'")]),t._v("fetchStatus"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fetching'")]),t._v("\n")])])]),e("p",[t._v("一旦我们有了项目，它将去：")]),t._v(" "),e("div",{staticClass:"language-tsx extra-class"},[e("pre",{pre:!0,attrs:{class:"language-tsx"}},[e("code",[t._v("status"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'success'")]),t._v("fetchStatus"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'idle'")]),t._v("\n")])])]),e("p",[e("a",{attrs:{href:"https://github.com/tanstack/query/tree/main/docs/react/guides/dependent-queries.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("在 GitHub 上编辑"),e("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=r.exports}}]);