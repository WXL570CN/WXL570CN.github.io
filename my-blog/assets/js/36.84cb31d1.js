(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{461:function(e,t,a){"use strict";a.r(t);var r=a(2),s=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"组合式api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#组合式api"}},[e._v("#")]),e._v(" 组合式API")]),e._v(" "),t("p",[e._v("当我们的组件中含有大量逻辑时，每个逻辑都有对应的数据以及逻辑代码，\n这些代码可能分布在data、computed、methods、watch中，\n因此我们关注某个逻辑时，关注点的列表会变得很长，导致组件难以阅读和理解，\n尤其是对于那些一开始就没有编写这些组件的人来讲。\n下图是官网给出的一个大型组件的示例，其中逻辑关注点是按颜色分组。\n{% img https://v3.cn.vuejs.org/images/options-api.png %}")]),e._v(" "),t("p",[e._v("Vue3的解决方案是使用组合式 API，使用组合式API的地方叫 setup")]),e._v(" "),t("h2",{attrs:{id:"setup-组件选项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setup-组件选项"}},[e._v("#")]),e._v(" setup 组件选项")]),e._v(" "),t("p",[e._v("setup 组件选项在创建组件之前执行，一旦 props 被解析，就作为组合式 API 的入口点。")]),e._v(" "),t("p",[e._v("{% note warn %}\n"),t("strong",[e._v("Warning")]),e._v("\n由于在执行 setup 时，组件实例尚未被创建，因此在 setup 选项中没有 this。这意味着，除了 props 之外，你将无法访问组件中声明的任何属性——本地状态、计算属性或方法。\n{% endnote %}")]),e._v(" "),t("h2",{attrs:{id:"带-ref-的响应式变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#带-ref-的响应式变量"}},[e._v("#")]),e._v(" 带 ref 的响应式变量")]),e._v(" "),t("h3",{attrs:{id:"什么是-ref"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是-ref"}},[e._v("#")]),e._v(" 什么是 ref")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("Vue3中提供的实现响应式数据的方法\n由于reactive必须传递对象，所以为了使基本类型的变量实现响应式时\nVue3提供了ref方法实现对基本类型的数据的监听\n")])])]),t("h3",{attrs:{id:"本质"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本质"}},[e._v("#")]),e._v(" 本质")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("ref本质上还是reactive，底层会将ref自动转换成reactive\nref(1) => reactive({value: 1})\n")])])]),t("blockquote",[t("p",[e._v("关于ref， "),t("a",{attrs:{href:"https://juejin.cn/post/6844903960562630670",target:"_blank",rel:"noopener noreferrer"}},[e._v("具体请查看"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"reactive"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reactive"}},[e._v("#")]),e._v(" reactive")]),e._v(" "),t("h3",{attrs:{id:"什么是reactive"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是reactive"}},[e._v("#")]),e._v(" 什么是reactive")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("Vue3中提供的实现响应式数据的方法\n在Vue2中响应式数据是通过defineProperty来实现的\n而在Vue3中响应式数据是通过ES6的Proxy来实现的\n")])])]),t("h3",{attrs:{id:"注意点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#注意点"}},[e._v("#")]),e._v(" 注意点")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("reactive参数必须是普通对象（JSON或者Array）\n")])])]),t("blockquote",[t("p",[e._v("关于reactive， "),t("a",{attrs:{href:"https://juejin.cn/post/6844903969894973448",target:"_blank",rel:"noopener noreferrer"}},[e._v("具体请查看"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=s.exports}}]);