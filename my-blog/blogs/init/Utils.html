<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.60">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>「项目初始化」Utils | WXL570CN's blog</title><meta name="description" content="Just playing around">
    <link rel="modulepreload" href="/my-blog/assets/app-5357ada0.js"><link rel="modulepreload" href="/my-blog/assets/framework-e1bed10d.js"><link rel="modulepreload" href="/my-blog/assets/Utils.html-93961b40.js"><link rel="modulepreload" href="/my-blog/assets/Utils.html-3b49aec5.js"><link rel="prefetch" href="/my-blog/assets/index.html-6d5e9dd3.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-b77449d9.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-c6616141.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-238aba0b.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-b70d5386.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-3ab675e2.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-e25cf8e7.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-00965a38.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-ff30011d.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-0c7b5c80.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-ddeb5282.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-8b0da425.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-74df72a1.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-80ad8c3f.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-e9d95b49.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-2c4a79e3.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-03474711.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-437627bd.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-4629b2c3.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-27010e20.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-69254cc3.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-bb6a1edc.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-70379254.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-13eea53e.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-d251d55d.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-d9b472bb.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-41ed9098.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-315a4309.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-11c71f4d.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-3c43d4eb.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-3b21e310.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-8badc8d9.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-baf725d1.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-2bff94e1.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-b6e7e692.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-b80bf28b.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-5b18d14f.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-9da4e3b4.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-6cf06f14.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-1a88d37b.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-c8e98ed0.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-800887e5.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-7e3d89c9.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-CSS-learning.html-e9a87e31.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-ES6-learning.html-2ea1640f.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Funds-learning.html-6fd7f9e4.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Git-learning.html-f9eeb874.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-HTML-review.html-deda97b5.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Http-code.html-78c651a3.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-JavaScript-learning-01.html-db0ea13f.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-JavaScript-learning-02.html-9cbedf87.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-JQuery-learning-01.html-f0df0d45.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Markdown-learning.html-998ad3a3.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-NodeJs-learning.html-a48ecacb.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Nuxt-learning.html-d3725ffb.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-React-learning-01.html-28f019fb.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-React-learning-02.html-11971b08.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-React-third-party-hooks.html-7a36289c.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Sorting-Algorithm.html-8a8ee6ff.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Vue3-learning-01.html-7793c0c6.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Vue3-learning-02.html-60178248.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Vue3-learning-03.html-bf376fe1.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Vue3-learning-04.html-93e7d03d.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Webpack-learning.html-38e7b859.js" as="script"><link rel="prefetch" href="/my-blog/assets/text-overflow.html-fd55df8c.js" as="script"><link rel="prefetch" href="/my-blog/assets/color-select.html-f82efc21.js" as="script"><link rel="prefetch" href="/my-blog/assets/array.html-369962e1.js" as="script"><link rel="prefetch" href="/my-blog/assets/echarts.html-2ab09661.js" as="script"><link rel="prefetch" href="/my-blog/assets/git.html-0373a49a.js" as="script"><link rel="prefetch" href="/my-blog/assets/npm.html-487ccd7c.js" as="script"><link rel="prefetch" href="/my-blog/assets/react.html-a74d43ba.js" as="script"><link rel="prefetch" href="/my-blog/assets/Assets.html-81bcb5b2.js" as="script"><link rel="prefetch" href="/my-blog/assets/interview-css.html-bd427ee7.js" as="script"><link rel="prefetch" href="/my-blog/assets/interview-es6.html-96539bb8.js" as="script"><link rel="prefetch" href="/my-blog/assets/interview-html.html-3610fe7a.js" as="script"><link rel="prefetch" href="/my-blog/assets/interview-http.html-94209b26.js" as="script"><link rel="prefetch" href="/my-blog/assets/interview-javascript.html-d3d6d53f.js" as="script"><link rel="prefetch" href="/my-blog/assets/interview-react.html-d5779b87.js" as="script"><link rel="prefetch" href="/my-blog/assets/interview-vue.html-82952d41.js" as="script"><link rel="prefetch" href="/my-blog/assets/interview-webpack.html-c358e147.js" as="script"><link rel="prefetch" href="/my-blog/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-385dcb56.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-2a93e2c9.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-b0b97c81.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-2c154a45.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-98aa61ea.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-ab78917a.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-660e4bef.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-47e4ee8b.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-3b5427f8.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-48e1c605.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-c62ed802.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-7014ae26.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-d7e5408a.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-1ed80e8d.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-71d9a5d9.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-bdec80a5.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-9f4754f5.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-2793d245.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-333aa55d.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-4e7d77cd.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-ef51ba1b.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-cff07ba3.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-ee52c9d2.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-aeace11a.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-b9db3372.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-c15250e1.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-7dc1a850.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-a38055d0.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-40ab6c4f.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-4a8159c6.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-bb41f1bb.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-40bced6f.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-7ec32a34.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-fb2ea2e4.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-ddb40108.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-3c78780e.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-8c3d2116.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-be4e50cb.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-3e93d436.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-e640d31f.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-1bb1a523.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-a6b7472f.js" as="script"><link rel="prefetch" href="/my-blog/assets/index.html-cbd49540.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-CSS-learning.html-99ee6f6a.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-ES6-learning.html-fa8129ec.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Funds-learning.html-3e78a958.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Git-learning.html-d9be7eae.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-HTML-review.html-6fc82b74.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Http-code.html-1e06af08.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-JavaScript-learning-01.html-b469fa11.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-JavaScript-learning-02.html-fb6d2f0a.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-JQuery-learning-01.html-22cf78b5.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Markdown-learning.html-737fb5c2.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-NodeJs-learning.html-d2778317.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Nuxt-learning.html-5eacb6e0.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-React-learning-01.html-99431a24.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-React-learning-02.html-b1e09485.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-React-third-party-hooks.html-5499d68f.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Sorting-Algorithm.html-1b870ff1.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Vue3-learning-01.html-146809f9.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Vue3-learning-02.html-78d1018a.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Vue3-learning-03.html-da45f0f5.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Vue3-learning-04.html-0392f3f4.js" as="script"><link rel="prefetch" href="/my-blog/assets/Notes-Webpack-learning.html-fd8e55c3.js" as="script"><link rel="prefetch" href="/my-blog/assets/text-overflow.html-361d36de.js" as="script"><link rel="prefetch" href="/my-blog/assets/color-select.html-2e4b28ca.js" as="script"><link rel="prefetch" href="/my-blog/assets/array.html-7d1fa628.js" as="script"><link rel="prefetch" href="/my-blog/assets/echarts.html-f493dd61.js" as="script"><link rel="prefetch" href="/my-blog/assets/git.html-30e50b17.js" as="script"><link rel="prefetch" href="/my-blog/assets/npm.html-1a83e0fe.js" as="script"><link rel="prefetch" href="/my-blog/assets/react.html-bd16e5d6.js" as="script"><link rel="prefetch" href="/my-blog/assets/Assets.html-6aa1125f.js" as="script"><link rel="prefetch" href="/my-blog/assets/interview-css.html-7f74aaff.js" as="script"><link rel="prefetch" href="/my-blog/assets/interview-es6.html-6b4a8433.js" as="script"><link rel="prefetch" href="/my-blog/assets/interview-html.html-05b3c3a4.js" as="script"><link rel="prefetch" href="/my-blog/assets/interview-http.html-11926c8d.js" as="script"><link rel="prefetch" href="/my-blog/assets/interview-javascript.html-fa3cf188.js" as="script"><link rel="prefetch" href="/my-blog/assets/interview-react.html-3a125c6f.js" as="script"><link rel="prefetch" href="/my-blog/assets/interview-vue.html-576760d5.js" as="script"><link rel="prefetch" href="/my-blog/assets/interview-webpack.html-3c57ee66.js" as="script"><link rel="prefetch" href="/my-blog/assets/404.html-7c90b0cc.js" as="script"><link rel="prefetch" href="/my-blog/assets/reco-valine-a0c1af1f.js" as="script"><link rel="prefetch" href="/my-blog/assets/TextOverflow-1e870011.js" as="script"><link rel="prefetch" href="/my-blog/assets/ColorSelect-196fc63f.js" as="script">
    <link rel="preload" href="/my-blog/assets/style-fbe00411.css" as="style"><link rel="stylesheet" href="/my-blog/assets/style-fbe00411.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper series--no show-catalog"><div><header class="navbar-container"><!--[--><div class="site-brand nav-item"><img class="logo" src="/my-blog/logo.jpg" alt="WXL570CN&#39;s blog"><a href="/my-blog/" class="site-name can-hide">WXL570CN&#39;s blog</a></div><div class="nav-item navbar-links-wrapper" style=""><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/my-blog/" class="link router-link-active" aria-label="主页"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->主页<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/my-blog/categories/init/1/" class="link" aria-label="分类"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->分类<!--]--></span></span><!--[--><!--]--></a></div><!--]--></nav><span class="xicon-container btn-toggle-dark-mode btn--dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div><!--]--></header><div class="mobile-menus-container"><nav class="navbar-links mobile"><!--[--><div class="navbar-links__item"><a href="/my-blog/" class="link router-link-active" aria-label="主页"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->主页<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/my-blog/categories/init/1/" class="link" aria-label="分类"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->分类<!--]--></span></span><!--[--><!--]--></a></div><!--]--></nav><div class="appearance"><span>Appearance</span><span class="xicon-container btn-toggle-dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span></div></div><div class="series-mask"></div><aside class="series-container"><div class="site-brand"><img class="logo" src="/my-blog/logo.jpg" alt="WXL570CN&#39;s blog"><a href="/my-blog/" class="site-name can-hide">WXL570CN&#39;s blog</a></div><!--[--><!--]--></aside><!--[--><main class="page-container"><h1 class="page-title">「项目初始化」Utils</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->WXL570CN<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2023/02/17<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->init<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->lang.js moment.js localStorage<!--]--></span></span><!----></div><div class="theme-reco-default-content"><div><h1 id="「项目初始化」utils" tabindex="-1"><a class="header-anchor" href="#「项目初始化」utils" aria-hidden="true">#</a> 「项目初始化」Utils</h1><h2 id="常用库" tabindex="-1"><a class="header-anchor" href="#常用库" aria-hidden="true">#</a> 常用库</h2><ul><li><a href="https://www.lodashjs.com/" target="_blank" rel="noopener noreferrer">lodash.js：一个一致性、模块化、高性能的 JavaScript 实用工具库<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="http://momentjs.cn/" target="_blank" rel="noopener noreferrer">moment.js：JavaScript 日期处理类库<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h2 id="lang-js" tabindex="-1"><a class="header-anchor" href="#lang-js" aria-hidden="true">#</a> lang.js</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 判断字符串是否为空
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">strEmpty</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> value <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 判断数值是否为空
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">numEmpty</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">strEmpty</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token number">0</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 回显变量
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">showValue</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> fixed</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strEmpty</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;--&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 将传入变量（有可能为空、非数值）保留n位小数
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">toFixed</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> decimals <span class="token operator">=</span> <span class="token number">2</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strEmpty</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&#39;--&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> value<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span>decimals<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 判断字符串中是否包含字母
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">hasLetter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> i <span class="token keyword">in</span> str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> asc <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>asc <span class="token operator">&gt;=</span> <span class="token number">65</span> <span class="token operator">&amp;&amp;</span> asc <span class="token operator">&lt;=</span> <span class="token number">90</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>asc <span class="token operator">&gt;=</span> <span class="token number">97</span> <span class="token operator">&amp;&amp;</span> asc <span class="token operator">&lt;=</span> <span class="token number">122</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 将小数的经纬度转化成度分秒
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">formatDegree</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> isLng<span class="token punctuation">,</span> extra <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// returnObj：返回度分秒</span>
  <span class="token comment">// second：是否返回秒</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> returnObj <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> second <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token operator">=</span> extra
  <span class="token keyword">const</span> absValue <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> v1 <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>absValue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 度</span>
  <span class="token keyword">const</span> v2 <span class="token operator">=</span> second <span class="token operator">?</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>absValue <span class="token operator">-</span> v1<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>absValue <span class="token operator">-</span> v1<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// 分</span>
  <span class="token keyword">const</span> v3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>absValue <span class="token operator">-</span> v1<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3600</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 秒</span>
  <span class="token comment">// eslint-disable-next-line no-nested-ternary</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>returnObj<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">degree</span><span class="token operator">:</span> v1<span class="token punctuation">,</span>
    <span class="token literal-property property">minute</span><span class="token operator">:</span> v2<span class="token punctuation">,</span>
    <span class="token literal-property property">second</span><span class="token operator">:</span> v3<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>v1<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">°</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>v2<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&#39;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>second <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>v3<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token punctuation">(</span>isLng <span class="token operator">?</span> <span class="token string">&#39;E&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;N&#39;</span><span class="token punctuation">)</span> <span class="token operator">:</span> isLng <span class="token operator">?</span> <span class="token string">&#39;W&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;S&#39;</span>
    <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 将度分秒转化成小数的经纬度
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">formatTransform</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">,</span> arg3<span class="token punctuation">,</span> arg4</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> arg <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>arg1<span class="token punctuation">)</span> <span class="token operator">+</span> arg2 <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">+</span> arg3 <span class="token operator">/</span> <span class="token number">3600</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arg4 <span class="token operator">===</span> <span class="token string">&#39;W&#39;</span> <span class="token operator">||</span> arg4 <span class="token operator">===</span> <span class="token string">&#39;S&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">-</span>arg<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 将常量中的对象常量转换为数组（用于下拉框）
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">}</span></span> constantObj：传入的对象（<span class="token punctuation">{</span> name: <span class="token punctuation">{</span> value: &#39;&#39;, text: &#39;&#39; <span class="token punctuation">}</span> <span class="token punctuation">}</span>）
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">}</span></span> <span class="token parameter">addAll：是否添加全部</span>
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">objectToOptions</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">constantObj<span class="token punctuation">,</span> addAll <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> _options <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>constantObj<span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>addAll<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> allItem <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;全部&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    _options<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>allItem<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> _options
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 通过value获取对应常量中的匹配项（默认返回text）
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">}</span></span> <span class="token parameter">options：传入的常量格式</span>
 * 格式一：[<span class="token punctuation">{</span> [name]: <span class="token punctuation">{</span> value: &#39;&#39;, text: &#39;&#39; <span class="token punctuation">}</span> <span class="token punctuation">}</span>]
 * 格式二：[<span class="token punctuation">{</span> value: &#39;&#39;, text: &#39;&#39; <span class="token punctuation">}</span>]
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">}</span></span> <span class="token parameter">value：要查找的value</span>
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">}</span></span> <span class="token parameter">keyName：要返回的值对应的key</span>
 * returnObj 为 true 时 keyName 无效
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">}</span></span> <span class="token parameter">returnObj：是否返回匹配上的对象</span>
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getOptionsMatch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">options<span class="token punctuation">,</span> value<span class="token punctuation">,</span> extra <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> keyName <span class="token operator">=</span> <span class="token string">&#39;text&#39;</span><span class="token punctuation">,</span> valueName <span class="token operator">=</span> <span class="token string">&#39;value&#39;</span><span class="token punctuation">,</span> returnObj <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token operator">=</span> extra <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">const</span> _options <span class="token operator">=</span> <span class="token function">isArray</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token operator">?</span> options <span class="token operator">:</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> _options<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">[</span>valueName<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">===</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>returnObj<span class="token punctuation">)</span> <span class="token keyword">return</span> res
  <span class="token keyword">return</span> res<span class="token punctuation">[</span>keyName<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">&#39;--&#39;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 获取DOM
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">$</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">selector</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 获取缩放比例
 * 物体宽高：width, height
 * 容奇宽高：boxWidth, boxHeight
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getScale</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> boxWidth<span class="token punctuation">,</span> boxHeight</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> scale <span class="token operator">=</span> width <span class="token operator">/</span> height
  <span class="token keyword">const</span> boxScale <span class="token operator">=</span> boxWidth <span class="token operator">/</span> boxHeight
  <span class="token keyword">if</span> <span class="token punctuation">(</span>boxScale <span class="token operator">&gt;</span> scale<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> boxHeight <span class="token operator">/</span> height
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> boxWidth <span class="token operator">/</span> width
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="dateformater-js-依赖moment-js" tabindex="-1"><a class="header-anchor" href="#dateformater-js-依赖moment-js" aria-hidden="true">#</a> dateFormater.js（依赖<em>moment.js</em>）</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> moment <span class="token keyword">from</span> <span class="token string">&#39;moment&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> strEmpty<span class="token punctuation">,</span> numEmpty <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./lang&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// 日期格式类型</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">DATE_FORMAT_TYPE</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">YMD</span><span class="token operator">:</span> <span class="token string">&#39;YYYY-MM-DD&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 年月日</span>
  <span class="token constant">YMDH</span><span class="token operator">:</span> <span class="token string">&#39;YYYY-MM-DD HH&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 年月日-时</span>
  <span class="token constant">YMDHM</span><span class="token operator">:</span> <span class="token string">&#39;YYYY-MM-DD HH:mm&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 年月日-时分</span>
  <span class="token constant">YMDHMS</span><span class="token operator">:</span> <span class="token string">&#39;YYYY-MM-DD HH:mm:ss&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 年月日-时分秒</span>
  <span class="token constant">YMD_START</span><span class="token operator">:</span> <span class="token string">&#39;YYYY-MM-DD 00:00:00&#39;</span><span class="token punctuation">,</span>
  <span class="token constant">YMD_END</span><span class="token operator">:</span> <span class="token string">&#39;YYYY-MM-DD 23:59:59&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 将时间对象转换成易读格式（YYYY年-MM月-DD日 HH时mm分ss秒）
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">dateFormat</span><span class="token punctuation">(</span><span class="token parameter">date <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> formatString <span class="token operator">=</span> <span class="token constant">DATE_FORMAT_TYPE</span><span class="token punctuation">.</span><span class="token constant">YMDHMS</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">moment</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>formatString<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span> 时长格式化（将一段时长转换为几年几月几日几分几时几秒的格式）
 * <span class="token keyword">@val</span> 传入的时长
 * <span class="token keyword">@type</span> 传入时长的单位（years/months/weeks/days/hours/minutes/seconds）
 * <span class="token keyword">@placeholder</span> 数值为空时的占位符
 * <span class="token keyword">@notShow</span> 列表，不显示的单位
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">formatDuration</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  value<span class="token punctuation">,</span>
  type<span class="token punctuation">,</span>
  placeholder <span class="token operator">=</span> <span class="token string">&#39;--&#39;</span><span class="token punctuation">,</span>
  notShow <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  defaultUnit <span class="token operator">=</span> <span class="token string">&#39;h&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strEmpty</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> placeholder<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> value
  <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>defaultUnit<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token keyword">let</span> years <span class="token operator">=</span> moment<span class="token punctuation">.</span><span class="token function">duration</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">years</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  years <span class="token operator">=</span> <span class="token operator">!</span><span class="token function">numEmpty</span><span class="token punctuation">(</span>years<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>notShow<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>years<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">y</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> days <span class="token operator">=</span> moment<span class="token punctuation">.</span><span class="token function">duration</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">days</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  days <span class="token operator">=</span> <span class="token operator">!</span><span class="token function">numEmpty</span><span class="token punctuation">(</span>days<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>notShow<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>days<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">d</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> hours <span class="token operator">=</span> moment<span class="token punctuation">.</span><span class="token function">duration</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  hours <span class="token operator">=</span> <span class="token operator">!</span><span class="token function">numEmpty</span><span class="token punctuation">(</span>hours<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>notShow<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hours<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">h</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> minutes <span class="token operator">=</span> moment<span class="token punctuation">.</span><span class="token function">duration</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">minutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  minutes <span class="token operator">=</span> <span class="token operator">!</span><span class="token function">numEmpty</span><span class="token punctuation">(</span>minutes<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>notShow<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>minutes<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">m</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> seconds <span class="token operator">=</span> moment<span class="token punctuation">.</span><span class="token function">duration</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">seconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  seconds <span class="token operator">=</span> <span class="token operator">!</span><span class="token function">strEmpty</span><span class="token punctuation">(</span>seconds<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>notShow<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>seconds<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">s</span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>years<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>days<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hours<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>minutes<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>seconds<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 毫秒级时间戳转换成易读格式（YYYY年-MM月-DD日 HH时mm分ss秒）
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">formateMilliseconds</span><span class="token punctuation">(</span><span class="token parameter">milliseconds<span class="token punctuation">,</span> formateString <span class="token operator">=</span> <span class="token constant">DATE_FORMAT_TYPE</span><span class="token punctuation">.</span><span class="token constant">YMDHMS</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">moment</span><span class="token punctuation">(</span>milliseconds<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>formateString<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 秒级时间戳转换成易读格式（YYYY年-MM月-DD日 HH时mm分ss秒）
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">formateUnixTime</span><span class="token punctuation">(</span><span class="token parameter">seconds<span class="token punctuation">,</span> formateString <span class="token operator">=</span> <span class="token constant">DATE_FORMAT_TYPE</span><span class="token punctuation">.</span><span class="token constant">YMDHMS</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> moment<span class="token punctuation">.</span><span class="token function">unix</span><span class="token punctuation">(</span>seconds<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>formateString<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 当前时间转换成易读格式（YYYY年-MM月-DD日 HH时mm分ss秒）
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">formateNow</span><span class="token punctuation">(</span><span class="token parameter">formateString <span class="token operator">=</span> <span class="token constant">DATE_FORMAT_TYPE</span><span class="token punctuation">.</span><span class="token constant">YMDHMS</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>formateString<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 将易读格式时间字符串（YYYY年-MM月-DD日 HH时mm分ss秒）转换成时间戳（秒级）
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">dateStrToUnix</span><span class="token punctuation">(</span><span class="token parameter">dateString</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">moment</span><span class="token punctuation">(</span>dateString<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 将易读格式时间字符串（YYYY年-MM月-DD日 HH时mm分ss秒）转换成时间戳（毫秒级）
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">dateStrToMillisecond</span><span class="token punctuation">(</span><span class="token parameter">dateString</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">moment</span><span class="token punctuation">(</span>dateString<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 时间选择器禁用函数（禁用今天之前的日期）
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">disabledDate</span><span class="token punctuation">(</span><span class="token parameter">current</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> current <span class="token operator">&amp;&amp;</span> current <span class="token operator">&lt;</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">startOf</span><span class="token punctuation">(</span><span class="token string">&#39;day&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 计算时间戳差值
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">timeDiff</span><span class="token punctuation">(</span><span class="token parameter">startTime<span class="token punctuation">,</span> endTime</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">dateStrToUnix</span><span class="token punctuation">(</span>endTime<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">dateStrToUnix</span><span class="token punctuation">(</span>startTime<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 获取一段时间前/后
 * <span class="token keyword">@note</span> 这与 getSomeTimeBefore 完全相同，只是不减去时间，而是增加时间。
 * <span class="token keyword">@num</span> 取负值为前，正值为后
 * <span class="token keyword">@type</span> 取值：years	y
              quarters	Q
              months	M
              weeks	w
              days	d
              hours	h
              minutes	m
              seconds	s
              milliseconds	ms
 * <span class="token keyword">@eg</span> 一年前/一月前/一周前...，一年后/一月后/一周后...
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getAfewDaysAgo</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">&#39;d&#39;</span><span class="token punctuation">,</span> formateString <span class="token operator">=</span> <span class="token constant">DATE_FORMAT_TYPE</span><span class="token punctuation">.</span><span class="token constant">YMDHMS</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>formateString<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 获取一段时间前/后
 * <span class="token keyword">@note</span> 这与 getAfewDaysAgo 完全相同，只是不增加时间，而是减去时间。
 * <span class="token keyword">@num</span> 取负值为后，正值为前
 * <span class="token keyword">@type</span> 取值：years	y
              quarters	Q
              months	M
              weeks	w
              days	d
              hours	h
              minutes	m
              seconds	s
              milliseconds	ms
 * <span class="token keyword">@eg</span> 一年前/一月前/一周前...，一年后/一月后/一周后...
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getSomeTimeBefore</span><span class="token punctuation">(</span><span class="token parameter">num<span class="token punctuation">,</span> type<span class="token punctuation">,</span> formateString <span class="token operator">=</span> <span class="token constant">DATE_FORMAT_TYPE</span><span class="token punctuation">.</span><span class="token constant">YMDHMS</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subtract</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>formateString<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 获取一段时间的开始
 * <span class="token keyword">@timeType</span> year/quarter/month/week/day/hour/minute/second
 * <span class="token keyword">@eg</span> 某年/某季度/某月/某星期/某天的开始...
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getSomeTimeStart</span><span class="token punctuation">(</span><span class="token parameter">time<span class="token punctuation">,</span> timeType<span class="token punctuation">,</span> formateString <span class="token operator">=</span> <span class="token constant">DATE_FORMAT_TYPE</span><span class="token punctuation">.</span><span class="token constant">YMDHMS</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">moment</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">startOf</span><span class="token punctuation">(</span>timeType<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>formateString<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@description</span>: 获取一段时间的结束
 * <span class="token keyword">@timeType</span> year/quarter/month/week/day/hour/minute/second
 * <span class="token keyword">@eg</span> 某年/某季度/某月/某星期/某天的结束...
 */</span>
 <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getSomeTimeEnd</span><span class="token punctuation">(</span><span class="token parameter">time<span class="token punctuation">,</span> timeType<span class="token punctuation">,</span> formateString <span class="token operator">=</span> <span class="token constant">DATE_FORMAT_TYPE</span><span class="token punctuation">.</span><span class="token constant">YMDHMS</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">moment</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">endOf</span><span class="token punctuation">(</span>timeType<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>formateString<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="storage-js" tabindex="-1"><a class="header-anchor" href="#storage-js" aria-hidden="true">#</a> storage.js</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> isObject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;lodash&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> storage <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//设置缓存</span>
  <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">expires</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">startTime</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//记录何时将值存入缓存，毫秒级</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">//将obj和传进来的params合并</span>
    Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>expires<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">//如果options.expires设置了的话</span>
      <span class="token comment">//以options.name为key，options为值放进去</span>
      localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">//如果options.expires没有设置，就判断一下value的类型</span>
      <span class="token keyword">const</span> type <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//如果value是对象或者数组对象的类型，就先用JSON.stringify转一下，再存进去</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&#39;[object Object]&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        options<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&#39;[object Array]&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        options<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>name<span class="token punctuation">,</span> options<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//拿到缓存</span>
  <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> item <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//先将拿到的试着进行json转为对象的形式</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      item <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">//如果不行就不是json的字符串，就直接返回</span>
      <span class="token keyword">return</span> item<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//如果有startTime的值，说明设置了失效时间</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isObject</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>startTime<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//何时将值取出减去刚存入的时间，与item.expires比较，如果大于就是过期了，如果小于或等于就还没过期</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>date <span class="token operator">-</span> item<span class="token punctuation">.</span>startTime <span class="token operator">&gt;</span> item<span class="token punctuation">.</span>expires<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//缓存过期，清除缓存，返回false</span>
        localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">//缓存未过期，返回值</span>
      <span class="token keyword">return</span> item<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//如果没有设置失效时间，直接返回值</span>
    <span class="token keyword">return</span> item<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//移除缓存</span>
  <span class="token function-variable function">remove</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//移出全部缓存</span>
  <span class="token function-variable function">clear</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> storage<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Last Updated 2023-04-03 09:05:56<!--]--></span></span></div></footer><!----><!----></main><!--]--><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/my-blog/blogs/init/Utils.html#常用库" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="常用库"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->常用库<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/my-blog/blogs/init/Utils.html#lang-js" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="lang.js"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->lang.js<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/my-blog/blogs/init/Utils.html#dateformater-js-依赖moment-js" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="dateFormater.js（依赖moment.js）"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->dateFormater.js（依赖moment.js）<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/my-blog/blogs/init/Utils.html#storage-js" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="storage.js"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->storage.js<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--></ul></div></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/my-blog/assets/app-5357ada0.js" defer></script>
  </body>
</html>
