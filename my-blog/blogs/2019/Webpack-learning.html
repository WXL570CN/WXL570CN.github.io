<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Notes---Webpack_learning | WXL570CN&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/my-blog/favicon.ico">
    <meta name="description" content="姑妄听之，如是我闻">
    <meta name="keywords" content="WXL570CN,博客,conimi,nico">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/my-blog/assets/css/0.styles.3a403808.css" as="style"><link rel="preload" href="/my-blog/assets/js/app.aa6b95f6.js" as="script"><link rel="preload" href="/my-blog/assets/js/3.e0cde37a.js" as="script"><link rel="preload" href="/my-blog/assets/js/1.bc1fd11a.js" as="script"><link rel="preload" href="/my-blog/assets/js/21.61a85d11.js" as="script"><link rel="prefetch" href="/my-blog/assets/js/10.71b54035.js"><link rel="prefetch" href="/my-blog/assets/js/11.20ad260c.js"><link rel="prefetch" href="/my-blog/assets/js/12.65b83a14.js"><link rel="prefetch" href="/my-blog/assets/js/13.5dbb5d22.js"><link rel="prefetch" href="/my-blog/assets/js/14.b3d24603.js"><link rel="prefetch" href="/my-blog/assets/js/15.880a11d4.js"><link rel="prefetch" href="/my-blog/assets/js/16.2416790e.js"><link rel="prefetch" href="/my-blog/assets/js/17.78cb716a.js"><link rel="prefetch" href="/my-blog/assets/js/18.3929330b.js"><link rel="prefetch" href="/my-blog/assets/js/19.9d08b847.js"><link rel="prefetch" href="/my-blog/assets/js/20.aa186538.js"><link rel="prefetch" href="/my-blog/assets/js/22.eeb0abee.js"><link rel="prefetch" href="/my-blog/assets/js/23.6ecca69b.js"><link rel="prefetch" href="/my-blog/assets/js/24.30359bf9.js"><link rel="prefetch" href="/my-blog/assets/js/25.18f71634.js"><link rel="prefetch" href="/my-blog/assets/js/26.035f53cc.js"><link rel="prefetch" href="/my-blog/assets/js/27.2a90bfa3.js"><link rel="prefetch" href="/my-blog/assets/js/28.161b41c8.js"><link rel="prefetch" href="/my-blog/assets/js/29.badbac48.js"><link rel="prefetch" href="/my-blog/assets/js/30.fc1ae960.js"><link rel="prefetch" href="/my-blog/assets/js/31.99ff4af1.js"><link rel="prefetch" href="/my-blog/assets/js/32.40827da4.js"><link rel="prefetch" href="/my-blog/assets/js/33.abc5b00c.js"><link rel="prefetch" href="/my-blog/assets/js/34.25f67c64.js"><link rel="prefetch" href="/my-blog/assets/js/35.bea35ec7.js"><link rel="prefetch" href="/my-blog/assets/js/36.1f8f22fe.js"><link rel="prefetch" href="/my-blog/assets/js/37.f9d83494.js"><link rel="prefetch" href="/my-blog/assets/js/38.6d813c1f.js"><link rel="prefetch" href="/my-blog/assets/js/39.ef4793f6.js"><link rel="prefetch" href="/my-blog/assets/js/4.913b773d.js"><link rel="prefetch" href="/my-blog/assets/js/40.506ac4e4.js"><link rel="prefetch" href="/my-blog/assets/js/41.a2390adf.js"><link rel="prefetch" href="/my-blog/assets/js/42.287b42a2.js"><link rel="prefetch" href="/my-blog/assets/js/43.af5cb4b0.js"><link rel="prefetch" href="/my-blog/assets/js/44.0d0714c3.js"><link rel="prefetch" href="/my-blog/assets/js/45.552d6a8f.js"><link rel="prefetch" href="/my-blog/assets/js/46.5da48961.js"><link rel="prefetch" href="/my-blog/assets/js/47.2b7f1ad4.js"><link rel="prefetch" href="/my-blog/assets/js/5.9aaf3811.js"><link rel="prefetch" href="/my-blog/assets/js/6.ad304551.js"><link rel="prefetch" href="/my-blog/assets/js/7.9f9c3528.js"><link rel="prefetch" href="/my-blog/assets/js/8.dee7f11f.js"><link rel="prefetch" href="/my-blog/assets/js/9.8125d688.js">
    <link rel="stylesheet" href="/my-blog/assets/css/0.styles.3a403808.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-01e1a3d6><div data-v-01e1a3d6><div class="password-shadow password-wrapper-out" style="display:none;" data-v-6b44dbf6 data-v-01e1a3d6 data-v-01e1a3d6><h3 class="title" data-v-6b44dbf6>WXL570CN's Blog</h3> <p class="description" data-v-6b44dbf6>姑妄听之，如是我闻</p> <label id="box" class="inputBox" data-v-6b44dbf6><input type="password" value="" data-v-6b44dbf6> <span data-v-6b44dbf6>Konck! Knock!</span> <button data-v-6b44dbf6>OK</button></label> <div class="footer" data-v-6b44dbf6><span data-v-6b44dbf6><i class="iconfont reco-theme" data-v-6b44dbf6></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-6b44dbf6>vuePress-theme-reco</a></span> <span data-v-6b44dbf6><i class="iconfont reco-copyright" data-v-6b44dbf6></i> <a data-v-6b44dbf6><span data-v-6b44dbf6>WXL570CN</span>
          
        <span data-v-6b44dbf6>2017 - </span>
        2023
      </a></span></div></div> <div class="hide" data-v-01e1a3d6><header class="navbar" data-v-01e1a3d6><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/my-blog/" class="home-link router-link-active"><img src="/my-blog/logo.jpg" alt="WXL570CN's Blog" class="logo"> <span class="site-name">WXL570CN's Blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/my-blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      关于
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/WXL570CN" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-01e1a3d6></div> <aside class="sidebar" data-v-01e1a3d6><div class="personal-info-wrapper" data-v-7b7316c7 data-v-01e1a3d6><img src="/my-blog/avatar.jpg" alt="author-avatar" class="personal-img" data-v-7b7316c7> <h3 class="name" data-v-7b7316c7>
    WXL570CN
  </h3> <div class="num" data-v-7b7316c7><div data-v-7b7316c7><h3 data-v-7b7316c7>33</h3> <h6 data-v-7b7316c7>文章</h6></div> <div data-v-7b7316c7><h3 data-v-7b7316c7>27</h3> <h6 data-v-7b7316c7>标签</h6></div></div> <ul class="social-links" data-v-7b7316c7></ul> <hr data-v-7b7316c7></div> <nav class="nav-links"><div class="nav-item"><a href="/my-blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      关于
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/WXL570CN" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-6b44dbf6 data-v-01e1a3d6><h3 class="title" data-v-6b44dbf6>Notes---Webpack_learning</h3> <!----> <label id="box" class="inputBox" data-v-6b44dbf6><input type="password" value="" data-v-6b44dbf6> <span data-v-6b44dbf6>Konck! Knock!</span> <button data-v-6b44dbf6>OK</button></label> <div class="footer" data-v-6b44dbf6><span data-v-6b44dbf6><i class="iconfont reco-theme" data-v-6b44dbf6></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-6b44dbf6>vuePress-theme-reco</a></span> <span data-v-6b44dbf6><i class="iconfont reco-copyright" data-v-6b44dbf6></i> <a data-v-6b44dbf6><span data-v-6b44dbf6>WXL570CN</span>
          
        <span data-v-6b44dbf6>2017 - </span>
        2023
      </a></span></div></div> <div data-v-01e1a3d6><div data-v-01e1a3d6><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">Notes---Webpack_learning</h1> <div data-v-d70b6e8c><i class="iconfont reco-account" data-v-d70b6e8c><span data-v-d70b6e8c>WXL570CN</span></i> <i class="iconfont reco-date" data-v-d70b6e8c><span data-v-d70b6e8c>2019/5/27</span></i> <!----> <i class="tags iconfont reco-tag" data-v-d70b6e8c><span class="tag-item" data-v-d70b6e8c>Webpack</span></i></div></div> <div class="theme-reco-content content__default"><blockquote><p>功能：将ES6等代码编译成浏览器能识别的代码
注意：webpack能处理js/json，但不能处理css/img等</p></blockquote> <h2 id="一、开始"><a href="#一、开始" class="header-anchor">#</a> 一、开始</h2> <p><code>npm install webpack webpack-cli --save-dev</code></p> <h2 id="二、编译环境"><a href="#二、编译环境" class="header-anchor">#</a> 二、编译环境</h2> <p>开发环境打包</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>webpack ./src/index.js -o ./build --mode=development
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>生产环境（打包后的代码是压缩的）</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>webpack ./src/index.js -o ./build --mode=production
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>配置了webpack.config.js之后，可以直接用 <code>webpack</code>进行打包</p> <h2 id="三、webpack-config-js"><a href="#三、webpack-config-js" class="header-anchor">#</a> 三、webpack.config.js</h2> <p>webpack配置文件<br>
所有构建工具都是基于<code>nodejs平台</code>运行的，模块化默认采用<code>commonjs</code><br>
基本配置(webpack的五个核心基本概念)：</p> <h3 id="entry"><a href="#entry" class="header-anchor">#</a> entry</h3> <p>入口文件</p> <ol><li>string --&gt; <code>'入口文件路径'</code><br>
单入口<br>
打包形成一个chunk,输出一个bundle文件。<br>
此时chunk的名称默认是main</li> <li>array --&gt; <code>['入口文件1路径', '入口文件2路径']</code><br>
多入口<br>
所有入口文件最终只会形成一个chunk,输出出去只有一个bundle文件。<br>
--&gt;只有在HMR功能中让html热更新生效</li> <li>object --&gt; <code>{ key（输出文件名）: string（入口文件路径） }</code><br>
多入口<br>
有几个入口文件就形成几个chunk,输出几个bundle文件。<br>
此时chunk的名称是key</li></ol> <h3 id="output"><a href="#output" class="header-anchor">#</a> output：</h3> <p>输出文件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token punctuation">,</span>
  <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>  <span class="token comment">// 设置公共资源路径前缀</span>
  <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">'js/[name]_chunk.js'</span><span class="token punctuation">,</span> <span class="token comment">// 设置非入口chunk的名称</span>
  <span class="token comment">// library一般配合dll使用</span>
  <span class="token comment">// library: '[name]'  // 让打包后的内容可以全局使用（即库向外暴露的变量名）</span>
  <span class="token comment">// libraryTarget: 'window'  // 将打包后并暴露到全局的内容挂载到window</span>
  <span class="token comment">// libraryTarget: 'global'</span>
  <span class="token comment">// libraryTarget: 'commonjs'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ol start="3"><li>loaders：
让webpack能够处理非js文件<br>
当一种文件同时被多个 loader 处理时，需要声明 loader 的执行顺序</li> <li>plugins：
可以执行范围更广的任务</li> <li>mode：
配置环境</li></ol> <h2 id="四、css处理"><a href="#四、css处理" class="header-anchor">#</a> 四、CSS处理</h2> <h3 id="_1、抽成单独文件"><a href="#_1、抽成单独文件" class="header-anchor">#</a> 1、抽成单独文件</h3> <p><code>npm install mini-css-extract-plugin -D</code></p> <blockquote><p>既然将 css 代码提取成了单独文件，那么 style 引入自然也不需要了，所以要取消 style-loader 的使用</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 一、引入</span>
<span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span>

<span class="token comment">// 二、使用</span>
<span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// 设置输出文件名</span>
  <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'style/built.css'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 三、配置loader</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">use</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token comment">// 取消style-loader的使用</span>
    <span class="token comment">// 'style-loader',</span>
    MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
    <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
    <span class="token comment">// 将less解析为css，需要下载两个包 npm i less-loader css-loader -D</span>
    <span class="token string">'less-loader'</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_2、兼容性处理"><a href="#_2、兼容性处理" class="header-anchor">#</a> 2、兼容性处理</h3> <p><code>npm install postcss-loader postcss-preset-env -D</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 一、loader使用</span>
<span class="token comment">// 作用：帮 postcss 找到 package.json 中 browserslist 里面的配置，通过配置加载指定的css兼容性样式</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'postcss-loader'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">ident</span><span class="token operator">:</span> <span class="token string">'postcss'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">plugins</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'postcss-preset-env'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 二、browserslist：更多配置可以 GitHub搜 browserslist</span>
<span class="token string-property property">&quot;browserslist&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;development&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 兼容chrome最近版本</span>
    <span class="token string">&quot;last 1 chrome version&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;last 1 firefox version&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;last 1 safari version&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;production&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 市面上百分之99.8的浏览器兼容</span>
    <span class="token string">&quot;&gt;0.2%&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// 不要已经over的浏览器</span>
    <span class="token string">&quot;not dead&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// 不要op_mini浏览器</span>
    <span class="token string">&quot;not op_mini all&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// 三、默认是生产环境，如果要在开发环境中测试，则需要在外层设置node环境变量</span>
process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">=</span> <span class="token string">'development'</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h3 id="_3、压缩处理"><a href="#_3、压缩处理" class="header-anchor">#</a> 3、压缩处理</h3> <p><code>npm i optimize-css-assets-webpack-plugin -D</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 引入</span>
<span class="token keyword">const</span> OptimizeCssAssetsWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'optimize-css-assets-webpack-plugin'</span><span class="token punctuation">)</span>

<span class="token comment">// 使用</span>
plugins<span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">OptimizeCssAssetsWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="五、js处理"><a href="#五、js处理" class="header-anchor">#</a> 五、JS处理</h2> <h3 id="_1、eslint-语法检查"><a href="#_1、eslint-语法检查" class="header-anchor">#</a> 1、ESLint 语法检查</h3> <p><code>npm i eslint eslint-loader eslint-config-airbnb-base eslint-plugin-import -D</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 一、使用</span>
<span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token string">'/\.js$/'</span><span class="token punctuation">,</span>
    <span class="token comment">// 排除第三方库的语法检查</span>
    <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'eslint-loader'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 自动修复</span>
      <span class="token literal-property property">fix</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token comment">// 二、配置</span>
<span class="token comment">// package.json</span>
<span class="token comment">// 用到的是 airbnb 的配置（基本配置，只有对js语法的检查）</span>
<span class="token string-property property">&quot;eslintConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token string">&quot;airbnb-base&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_2、兼容性处理-2"><a href="#_2、兼容性处理-2" class="header-anchor">#</a> 2、兼容性处理</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm i babel-loader @babel/core @babel/preset-env -D
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>其中 <code>@babel/preset-env</code> 只能处理基本的js语法，不能处理promise等语法<br>
解决方案：</p> <ol><li>方案一：<code>@babel/polyfill</code>，处理全部js语法兼容<br> <code>npm i @babel/polyfill -D</code></li></ol> <blockquote><p><code>@babel/polyfill</code>不需要做其他配置，在需要做兼容性处理的js文件中引入即可<br>
问题：体积太大</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 使用：引入即用</span>
<span class="token keyword">import</span> <span class="token string">'@babel/polyfill'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>方案二： <code>core-js</code>，按需加载<br> <code>npm install core-js -D</code></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span>
        <span class="token string">'@babel/preset-env'</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token comment">// 按需加载</span>
          <span class="token literal-property property">useBuiltIns</span><span class="token operator">:</span> <span class="token string">'usage'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">corejs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token number">3</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">targets</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">chrome</span><span class="token operator">:</span> <span class="token string">'60'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">firefox</span><span class="token operator">:</span> <span class="token string">'60'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">ie</span><span class="token operator">:</span> <span class="token string">'9'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">safari</span><span class="token operator">:</span> <span class="token string">'10'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="_3、压缩处理-2"><a href="#_3、压缩处理-2" class="header-anchor">#</a> 3、压缩处理</h3> <p>将环境改为生产环境（production）即可</p> <h2 id="六、html"><a href="#六、html" class="header-anchor">#</a> 六、HTML</h2> <h3 id="_1、基本配置"><a href="#_1、基本配置" class="header-anchor">#</a> 1、基本配置</h3> <p><code>npm i html-webpack-plugin -D</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// 设置 webpack 的生成HTML文件依赖</span>
    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'./src/index.html'</span><span class="token punctuation">,</span>
    <span class="token comment">// 设置压缩属性</span>
    <span class="token literal-property property">minify</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 设置元信息</span>
    meta：<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_2、压缩"><a href="#_2、压缩" class="header-anchor">#</a> 2、压缩</h3> <p>HtmlWebpackPlugin插件配置添加 minify配置 即可</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">minify</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token comment">// 去除空格</span>
  <span class="token literal-property property">collapseWhitespace</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token comment">// 移除注释</span>
  <span class="token literal-property property">removeComments</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="七、性能优化"><a href="#七、性能优化" class="header-anchor">#</a> 七、性能优化</h2> <h3 id="_1、开发环境性能优化"><a href="#_1、开发环境性能优化" class="header-anchor">#</a> 1、开发环境性能优化</h3> <ol><li>代码构建速度优化
HMR：热模块替换<br>
样式文件：可以使用<code>HMR</code>功能，因为<code>style-loader</code>内部实现了<br> <code>HMR</code></li> <li>调试功能优化<br> <code>source-map</code></li></ol> <h3 id="_2、生产环境性能优化"><a href="#_2、生产环境性能优化" class="header-anchor">#</a> 2、生产环境性能优化</h3> <ol><li>代码打包构建速度优化<br> <code>oneOf | babel缓存 | 多进程打包 | externals | dll</code></li> <li>代码运行性能优化<br> <code>缓存 | tree shaking | code split | 懒加载/预加载 | pwa</code></li></ol> <h3 id="_3、hmr-功能"><a href="#_3、hmr-功能" class="header-anchor">#</a> 3、HMR 功能</h3> <blockquote><p>hot module replacement
热模块替换：一个模块发生变化，只会重新打包更新该模块而不会更新整个页面
代码构建速度优化</p></blockquote> <h4 id="开启hmr"><a href="#开启hmr" class="header-anchor">#</a> 开启HMR</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 开启HMR功能</span>
<span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="样式文件"><a href="#样式文件" class="header-anchor">#</a> 样式文件</h4> <p>不需要，因为style-loader已经实现了该功能</p> <h4 id="js文件"><a href="#js文件" class="header-anchor">#</a> js文件</h4> <p>默认不能使用<code>HMR</code>，解决方案：在js文件中添加配置</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>hot<span class="token punctuation">)</span><span class="token punctuation">{</span>
  module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string">'./a.js'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 该方法会监听a.js文件，一旦a.js文件发生变化，则执行这后面的逻辑代码</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>也就是说，无法对入口文件做HMR功能，只能对入口文件中的依赖做HMR功能</p></blockquote> <h4 id="html文件"><a href="#html文件" class="header-anchor">#</a> html文件</h4> <p>不需要使用HMR，因为通常来说html是单独使用的</p> <blockquote><p>开启了HMR功能时，会导致html文件热更新失效
解决方案：将html文件加入到入口文件配置中</p></blockquote> <h3 id="_4、oneof-代码构建速度优化"><a href="#_4、oneof-代码构建速度优化" class="header-anchor">#</a> 4、oneOf（代码构建速度优化）</h3> <p>将一系列的rules放在oneOf数组中，使得各类文件在匹配loader时，匹配成功则不再往后匹配，减少匹配loader次数</p> <blockquote><p>oneOf中不能出现两个处理同一类型的loader
解决方案：将多余的loader提取到oneOf外面（最好是优先执行的loader）</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token operator">...</span>
  <span class="token literal-property property">oneOf</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_5、source-map-功能-调试功能优化"><a href="#_5、source-map-功能-调试功能优化" class="header-anchor">#</a> 5、source-map 功能（调试功能优化）</h3> <blockquote><p>一种提供源代码到构建后代码映射技术 (如果构建后代码出错了,通过映射可以追踪源代码错误)</p></blockquote> <p>简言之：对后期代码错误溯源，精准到哪行代码出了错</p> <p>开启：</p> <p>在webpack.config.js中添加配置：<code>devtool: 'source-map'</code></p> <p>devtoll配置：</p> <blockquote><p>（内联和外部的区别  1：外部生成了文件，内联没有；2：内联构建速度更快，但体积大）</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code>source<span class="token operator">-</span>map
<span class="token comment">// 外部</span>
<span class="token comment">// 错误代码准确信息和源代码的错误位置</span>
inline<span class="token operator">-</span>source<span class="token operator">-</span>map
<span class="token comment">// 内联</span>
<span class="token comment">// 只生成一个内联source-map</span>
<span class="token comment">// 错误代码准确信息和源代码的错误位置</span>
hidden<span class="token operator">-</span>source<span class="token operator">-</span>map
<span class="token comment">// 外部</span>
<span class="token comment">// 错误代码错误原因,但是没有错误位置不能追踪源代码错误,只能提示到构建后代码的错误位置</span>
eval<span class="token operator">-</span>source<span class="token operator">-</span>map
<span class="token comment">// 内联</span>
<span class="token comment">// 每一个文件都生成对应的source-map,都在eval错误代码准确信息和源代码的错误位置</span>
nosources<span class="token operator">-</span>source<span class="token operator">-</span>map
<span class="token comment">// 外部</span>
<span class="token comment">// 错误代码准确信息,但是没有任何源代码信息</span>
cheap<span class="token operator">-</span>source<span class="token operator">-</span>map
<span class="token comment">// 外部</span>
<span class="token comment">// 错误代码准确信息和源代码的错误位置只能精确的行</span>
cheap<span class="token operator">-</span>module<span class="token operator">-</span>source<span class="token operator">-</span>map
<span class="token comment">// 外部</span>
<span class="token comment">// 错误代码准确信息和源代码的错误位置</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>开发环境需求：速度快，调试更友好<br>
       速度：eval &gt; inline &gt; cheap &gt; ...<br>
       调试：source-map &gt; cheap-module-souce-map &gt; cheap-source-map<br>
       综合 ===&gt; eval-source-map || eval-cheap-module-souce-map</p> <p>生产环境需求：源代码隐藏？调试友好？<br>
       nosources-source-map<br>
       hidden-source-map<br>
       综合 ===&gt; source-map || cheap-module-souce-map</p> <h3 id="_6、缓存"><a href="#_6、缓存" class="header-anchor">#</a> 6、缓存</h3> <h4 id="babel缓存"><a href="#babel缓存" class="header-anchor">#</a> babel缓存</h4> <p>开启<code>babel-loader</code>的缓存</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">cacheDirectory</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_7、文件资源缓存"><a href="#_7、文件资源缓存" class="header-anchor">#</a> 7、文件资源缓存</h4> <p>hash：每次wepack构建时会生成一个唯一的hash值。<br>
       问题：因为js和css同时使用一个hash值。如果重新打包,会导致所有缓存失效。(可能我只改动一个文件)<br>
chunkhash：根据chunk（代码块，随着一个文件同时被引入的其他文件统称为一个chunk）生成的hash值。如果打包来源于同一个chunk，那么hash值就一样<br>
       问题: js和css的hash值还是一样的，因为css是在js中被引入的，所以同属于一个<br>
chunkcontenthash：根据文件的内容生成hash值。不同文件hash值一定不一样<br>
即给输出文件名添加hash值，使得变化的文件hash值发生改变，而未变化的文件hash值也不会发生改变。</p> <h3 id="_8、tree-shaking"><a href="#_8、tree-shaking" class="header-anchor">#</a> 8、tree shaking</h3> <p>取出无用代码（理解：字面意思，树摇，摇晃一棵树，去除枯萎的叶子（无用代码））</p> <blockquote><p>前提：必须使用ES6模块化；开启production环境<br>
在package.json中配置</p></blockquote> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// 所有代码都没有副作用，即都可以进行tree shaking</span>
<span class="token property">&quot;sideEffects&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token comment">// 问题：可能会因为webpack版本问题，会把一些未引入但又必须的文件去除</span>
<span class="token property">&quot;sideEffects&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;*.css&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*.less&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_9、code-split"><a href="#_9、code-split" class="header-anchor">#</a> 9、code split</h3> <p>代码分割<br>
一：entry设置为多路口</p> <blockquote><p>问题：配置繁琐</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token string">'./src/test.js'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'js/[name].[contenthash:10].js'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>二：<code>webpack.config.js</code>配置optimization</p> <blockquote><p>可以将node_modules中的代码单独打包成一个chunk输出
自动分析多个入口chunk中，有没有公用的文件（偏大的文件），如果有的话则将其打包成单独的一个chunk</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">'all'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>三：通过js代码方式，让某个文件单独打包成一个chunk</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ES10语法</span>
<span class="token comment">// 下面的注释为设置打包后文件名</span>
<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: 'test' */</span><span class="token string">'a.js'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'文件加载成功'</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'文件加载失败'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_10、懒加载和预加载"><a href="#_10、懒加载和预加载" class="header-anchor">#</a> 10、懒加载和预加载</h3> <h4 id="懒加载"><a href="#懒加载" class="header-anchor">#</a> 懒加载</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 执行到这才加载 a.js 文件，加载完成会缓存</span>
<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: 'test' */</span><span class="token string">'a.js'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'文件加载成功'</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'文件加载失败'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="预加载"><a href="#预加载" class="header-anchor">#</a> 预加载</h4> <p>在魔法注释里加上<code>webpackPrefetch: true</code><br>
空闲加载：不会堵塞其他资源加载</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: 'test', webpackPrefetch: true */</span><span class="token string">'a.js'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'文件加载成功'</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'文件加载失败'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_11、pwa"><a href="#_11、pwa" class="header-anchor">#</a> 11、PWA</h3> <p>渐进式网络开发应用程序（离线可访问）</p> <h3 id="_12、多进程打包"><a href="#_12、多进程打包" class="header-anchor">#</a> 12、多进程打包</h3> <p><code>npm i thread-loader -D</code>
和babel一起使用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// 开启多进程打包，进程启动大概600ms</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'thread-loader'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">workers</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token comment">// 进程2个</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
        <span class="token operator">...</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_13、externals"><a href="#_13、externals" class="header-anchor">#</a> 13、externals</h3> <p>杜绝第三方库被打包进js文件
<code>webpack.config.js</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">externals</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// 库名: 包名</span>
  <span class="token literal-property property">jquery</span><span class="token operator">:</span> <span class="token string">'jQuery'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_14、dll"><a href="#_14、dll" class="header-anchor">#</a> 14、dll</h3> <p>对某些库单独进行打包<br>
新建文件<code>webpack.dll.js</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> resolve<span class="token operator">=</span> <span class="token function">require</span> <span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span>
<span class="token comment">// 当你运行 webpack 时,默认查找 webpack.config.js 配置文作</span>
<span class="token comment">// 需求：需要运行 webpack.d1l.js文件 </span>
<span class="token comment">// 解决：webpack--config webpack.d1l.js</span>
<span class="token comment">// 运行该命令会再目录下生成dll文件夹，里面会有jquery.js、manifest.json</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 最终打包生成的[name]--&gt; jquery</span>
    <span class="token comment">// ['jquery&quot;]--&gt;要打包的库是jquery</span>
    <span class="token literal-property property">jquery</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'jquery'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'[name].js'</span><span class="token punctuation">,</span> 
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span> dirname<span class="token punctuation">,</span> <span class="token string">'dll'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token string">'[name]_[hash]'</span><span class="token punctuation">,</span> <span class="token comment">//打包的库里面向外暴露出去的内容叫什么名字</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'[name]_[hash]'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dll/manifest.json'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>在<code>webpack.config.js</code>中配置<br> <code>npm i add-assets-html-webpack-plugin -D</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> AddAssetsHtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'add-assets-html-webpack-plugin'</span><span class="token punctuation">)</span>


<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token comment">// 告诉webpack哪些库不需要打包，同时使用的名称也需要变</span>
  <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">manifest</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dll/manifest.json'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">new</span> <span class="token class-name">AddAssetsHtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">filepath</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dll/jquery.js'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="八、最终-webpack-config-js-配置"><a href="#八、最终-webpack-config-js-配置" class="header-anchor">#</a> 八、最终 <code>webpack.config.js</code> 配置：</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// loader: 1. 下载  2. 使用（配置loader）</span>
<span class="token comment">// plugin: 1. 下载  2. 引用 3. 使用</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> resolve <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token comment">// 设置index.html</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token comment">// 抽取css代码为单独文件</span>
<span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 入口</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span>
  <span class="token comment">// 输出</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token comment">// 输出文件名</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'main.js'</span><span class="token punctuation">,</span>
    <span class="token comment">// 输出路径</span>
    <span class="token comment">// __dirname代表当前文件所在的目录绝对路径</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'build'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// loader的配置</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// 不同文件必须配置不同loader处理</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// 匹配哪些文件，正则</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// 使用哪些loader进行处理</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// 创建style标签，将js中的样式资源插入到head中</span>
          <span class="token comment">// 'style-loader',</span>
          <span class="token comment">// 提取css插件需要引入该loader，但同时也需要关闭style-loader</span>
          MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token comment">// 会将css文件变成commonjs模块加载到js中 ，里面内容是样式字符串</span>
          <span class="token string">'css-loader'</span>
          <span class="token comment">// 即执行顺序为 css-loader，再 style-loader</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span><span class="token punctuation">[</span>
          <span class="token comment">// 'style-loader',</span>
          MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
          <span class="token comment">// 将less解析为css，需要下载两个包 npm i less-loader css-loader -D</span>
          <span class="token string">'less-loader'</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// 缺点：处理不了html中引入的图片</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg|jpeg|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// 需要下载两个包 npm i url-loader file-loader -D</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// 图片小于 8k 时会被base64处理</span>
          <span class="token comment">// 优点： 减少请求数量</span>
          <span class="token comment">// 缺点：图片体积会更大</span>
          <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">8</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span>
          <span class="token comment">// 由于url-loader 默认使用es6模块化解析，而html-loader引入图片是commonjs。</span>
          <span class="token comment">// 解析时会出错</span>
          <span class="token comment">// 解决：关闭url-loader的es6解析</span>
          <span class="token comment">// 当然，没有使用html-loader就不需要这个命令了</span>
          <span class="token literal-property property">esModule</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token comment">// 给图片重命名,使其名字不至于太长</span>
          <span class="token comment">// [hash:10]：取hash值得前十位</span>
          <span class="token comment">// [ext]：取图片的原扩展名</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> '<span class="token punctuation">[</span>hash<span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>ext<span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token comment">// 设置输出到 build 中的目录</span>
          <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">'img'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// 处理 html中引入的图片，webpack5.x中不需要引入该 loader 也能处理html中的图片，  </span>
        <span class="token comment">// 这应该是webpack5.x解决了该问题</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.html</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'html-loader'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// 打包其他资源（除html/js/css资源以外的其他资源），如字体文件</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(html|js|css)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'file-loader'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span><span class="token punctuation">{</span>
          <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">'media'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token comment">// 创建一个空的html，并引入打包后的所有资源如css/js</span>
    <span class="token comment">// new HtmlWebpackPlugin()</span>
    <span class="token comment">// 想要有结构的Html，则需要配置</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'./src/index.html'</span><span class="token punctuation">,</span>
      <span class="token comment">// 设置压缩属性</span>
      <span class="token literal-property property">minify</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 去除空格</span>
        <span class="token literal-property property">collapseWhitespace</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token comment">// 移除注释</span>
        <span class="token literal-property property">removeComments</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// 设置元信息</span>
      meta：<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'style/built.css'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span>
  <span class="token comment">// mode: 'production',</span>
  <span class="token comment">// 自动编译</span>
  <span class="token comment">// 只会在内存中编译打包，而不会有本地输出</span>
  <span class="token comment">// 使用：npm i webpack-dev-server -D</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'build'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// 启动gzip压缩，让代码体积更小，压缩更快</span>
    <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
    <span class="token comment">// 开启HMR功能，但仅限于样式文件，且会导致html文件不能热更新</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br></div></div><h2 id="modules"><a href="#modules" class="header-anchor">#</a> modules</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>  <span class="token comment">// 匹配规则</span>
      <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>  <span class="token comment">// 使用loader</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>  <span class="token comment">// 排除文件</span>
      <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">enforce</span><span class="token operator">:</span> <span class="token string">'pre'</span><span class="token punctuation">,</span>  <span class="token comment">// 优先执行，不需要优先执行则不添加 延后执行：post</span>
      <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="resolve"><a href="#resolve" class="header-anchor">#</a> resolve</h2> <p>解析模块的规则</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// 配置别名</span>
  <span class="token literal-property property">alia</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">$css</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/css'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">$js</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">$api</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/api'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token comment">// 配置省略文件的后缀名</span>
  <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 告诉 webpack 解析模块应该去什么目录，不用一层一层找</span>
  <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../../node_modules'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'node_modules'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="devserver"><a href="#devserver" class="header-anchor">#</a> devServer</h2> <p>用于开发环境</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// 运行代码的目录</span>
  <span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token function">resove</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'build'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// 监听文件变化，变化则重载</span>
  <span class="token literal-property property">watchContentBase</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">watchOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 忽略监听文件</span>
    <span class="token literal-property property">ignored</span><span class="token operator">:</span> <span class="token string">'node_modules'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 启动gzip压缩</span>
  <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token string">'gzip'</span><span class="token punctuation">,</span>
  <span class="token comment">// 端口号</span>
  <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token comment">// 域名</span>
  <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token comment">// 自动打开浏览器</span>
  <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// 开启HMR功能</span>
  <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// 取消启动服务器日志</span>
  <span class="token literal-property property">clientLogLevel</span><span class="token operator">:</span> <span class="token string">'none'</span>
  <span class="token comment">// 除了基本启动信息外，其他都不显示</span>
  <span class="token literal-property property">quiet</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// 出错不要全屏提示</span>
  <span class="token literal-property property">overlay</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token comment">// 服务器代理，解决开发环境跨域问题</span>
  <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">'/api'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'htpp://localhost:3000'</span><span class="token punctuation">,</span>
      <span class="token comment">// 发送请求时,请求路重写:将/api/xxx--&gt; /xxx (去掉/api)</span>
      <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">'^/api'</span><span class="token operator">:</span> <span class="token string">''</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h2 id="optimization"><a href="#optimization" class="header-anchor">#</a> optimization</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">chunks</span><span class="token operator">:</span> all'<span class="token punctuation">,</span>
    <span class="token comment">// 以下为默认值，一般不修改</span>
    <span class="token comment">// minsize: 30 * 1024,  // 分割的chunk最小为30kb</span>
    <span class="token comment">// maxsiza: 0,  // 最大没有限制</span>
    <span class="token comment">// minChunks: 1,  // 要提取的chunk最少被引用1次</span>
    <span class="token comment">// maxAsyncRequests: 5,  // 按需加载时并行加载的文件的最大数量</span>
    <span class="token comment">// maxInitialRequests: 3,  // 入口js文件最大并行请求数量</span>
    <span class="token comment">// automaticNameDelimiter: '~',  // 名称连接符</span>
    <span class="token comment">// name: true,  // 可以使用命名规则</span>
    <span class="token comment">// cacheGroups: {  //分割chunk的组</span>
    <span class="token comment">//   // node_modules文件会被打包到vendors组的chunk中。--&gt; vendors~xxx.js</span>
    <span class="token comment">//   // 满足上面的公共规则,如:大小超过30kb,至少被引用一次。</span>
    <span class="token comment">//   vendors: {</span>
    <span class="token comment">//     test: /[\\/]node_modules[\V/]/,</span>
    <span class="token comment">//     // 优先级</span>
    <span class="token comment">//     priority: -10</span>
    <span class="token comment">//   },</span>
    <span class="token comment">//   default: {</span>
    <span class="token comment">//     minChunks: 2,</span>
    <span class="token comment">//     priority: -20,</span>
    <span class="token comment">//     // 对于同一模块，复用模块而不会再次打包</span>
    <span class="token comment">//     reuseExistingChunk: true</span>
    <span class="token comment">//   }</span>
    <span class="token comment">// }</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 将当前模块的记录其他模块的hash单独打包为一个文件runtime</span>
  <span class="token comment">// 作用：修改a文件导致b文件的contenthash变化</span>
  <span class="token literal-property property">runtimeChunk</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function-variable function">name</span><span class="token operator">:</span> <span class="token parameter">entrypoint</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">runtime-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>entrypoint<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 配置生产环境的压缩方案：js、css</span>
    <span class="token comment">// npm i terser-webpack-plugin -D</span>
    <span class="token keyword">new</span> <span class="token class-name">TerserWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// 开启缓存</span>
      <span class="token literal-property property">cache</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// 开启多进程打包</span>
      <span class="token literal-property property">parallel</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// 启动source-map</span>
      <span class="token literal-property property">sourceMap</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2023/3/21 14:00:44</span></div></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-7b9ab47c data-v-01e1a3d6><li class="level-2" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#一、开始" class="sidebar-link reco-side-一、开始" data-v-7b9ab47c>一、开始</a></li><li class="level-2" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#二、编译环境" class="sidebar-link reco-side-二、编译环境" data-v-7b9ab47c>二、编译环境</a></li><li class="level-2" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#三、webpack-config-js" class="sidebar-link reco-side-三、webpack-config-js" data-v-7b9ab47c>三、webpack.config.js</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#entry" class="sidebar-link reco-side-entry" data-v-7b9ab47c>entry</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#output" class="sidebar-link reco-side-output" data-v-7b9ab47c>output：</a></li><li class="level-2" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#四、css处理" class="sidebar-link reco-side-四、css处理" data-v-7b9ab47c>四、CSS处理</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_1、抽成单独文件" class="sidebar-link reco-side-_1、抽成单独文件" data-v-7b9ab47c>1、抽成单独文件</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_2、兼容性处理" class="sidebar-link reco-side-_2、兼容性处理" data-v-7b9ab47c>2、兼容性处理</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_3、压缩处理" class="sidebar-link reco-side-_3、压缩处理" data-v-7b9ab47c>3、压缩处理</a></li><li class="level-2" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#五、js处理" class="sidebar-link reco-side-五、js处理" data-v-7b9ab47c>五、JS处理</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_1、eslint-语法检查" class="sidebar-link reco-side-_1、eslint-语法检查" data-v-7b9ab47c>1、ESLint 语法检查</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_2、兼容性处理-2" class="sidebar-link reco-side-_2、兼容性处理-2" data-v-7b9ab47c>2、兼容性处理</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_3、压缩处理-2" class="sidebar-link reco-side-_3、压缩处理-2" data-v-7b9ab47c>3、压缩处理</a></li><li class="level-2" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#六、html" class="sidebar-link reco-side-六、html" data-v-7b9ab47c>六、HTML</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_1、基本配置" class="sidebar-link reco-side-_1、基本配置" data-v-7b9ab47c>1、基本配置</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_2、压缩" class="sidebar-link reco-side-_2、压缩" data-v-7b9ab47c>2、压缩</a></li><li class="level-2" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#七、性能优化" class="sidebar-link reco-side-七、性能优化" data-v-7b9ab47c>七、性能优化</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_1、开发环境性能优化" class="sidebar-link reco-side-_1、开发环境性能优化" data-v-7b9ab47c>1、开发环境性能优化</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_2、生产环境性能优化" class="sidebar-link reco-side-_2、生产环境性能优化" data-v-7b9ab47c>2、生产环境性能优化</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_3、hmr-功能" class="sidebar-link reco-side-_3、hmr-功能" data-v-7b9ab47c>3、HMR 功能</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_4、oneof-代码构建速度优化" class="sidebar-link reco-side-_4、oneof-代码构建速度优化" data-v-7b9ab47c>4、oneOf（代码构建速度优化）</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_5、source-map-功能-调试功能优化" class="sidebar-link reco-side-_5、source-map-功能-调试功能优化" data-v-7b9ab47c>5、source-map 功能（调试功能优化）</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_6、缓存" class="sidebar-link reco-side-_6、缓存" data-v-7b9ab47c>6、缓存</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_8、tree-shaking" class="sidebar-link reco-side-_8、tree-shaking" data-v-7b9ab47c>8、tree shaking</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_9、code-split" class="sidebar-link reco-side-_9、code-split" data-v-7b9ab47c>9、code split</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_10、懒加载和预加载" class="sidebar-link reco-side-_10、懒加载和预加载" data-v-7b9ab47c>10、懒加载和预加载</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_11、pwa" class="sidebar-link reco-side-_11、pwa" data-v-7b9ab47c>11、PWA</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_12、多进程打包" class="sidebar-link reco-side-_12、多进程打包" data-v-7b9ab47c>12、多进程打包</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_13、externals" class="sidebar-link reco-side-_13、externals" data-v-7b9ab47c>13、externals</a></li><li class="level-3" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#_14、dll" class="sidebar-link reco-side-_14、dll" data-v-7b9ab47c>14、dll</a></li><li class="level-2" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#八、最终-webpack-config-js-配置" class="sidebar-link reco-side-八、最终-webpack-config-js-配置" data-v-7b9ab47c>八、最终 webpack.config.js 配置：</a></li><li class="level-2" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#modules" class="sidebar-link reco-side-modules" data-v-7b9ab47c>modules</a></li><li class="level-2" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#resolve" class="sidebar-link reco-side-resolve" data-v-7b9ab47c>resolve</a></li><li class="level-2" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#devserver" class="sidebar-link reco-side-devserver" data-v-7b9ab47c>devServer</a></li><li class="level-2" data-v-7b9ab47c><a href="/my-blog/blogs/2019/Webpack-learning.html#optimization" class="sidebar-link reco-side-optimization" data-v-7b9ab47c>optimization</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-65133105 data-v-65133105><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-65133105><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-65133105></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-65133105></path></svg></div></div></div>
    <script src="/my-blog/assets/js/app.aa6b95f6.js" defer></script><script src="/my-blog/assets/js/3.e0cde37a.js" defer></script><script src="/my-blog/assets/js/1.bc1fd11a.js" defer></script><script src="/my-blog/assets/js/21.61a85d11.js" defer></script>
  </body>
</html>
