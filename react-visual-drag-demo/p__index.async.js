"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[866],{55971:function(qt,I,_){_.r(I),_.d(I,{default:function(){return Kt}});var G=_(42122),v=_.n(G),U={button:"button___FwiRa"},n=_(86074),H=function(t){var o=t.propValue;return(0,n.jsx)("button",{className:U.button,children:o})},W=H,F=function(t){var o=t.propValue,r=t.style;return(0,n.jsx)("div",{style:r,children:(0,n.jsx)("img",{draggable:!1,src:o,style:{width:"100%",height:"100%"}})})},J=F,E={table:"table___yfQ4J",bold:"bold___xrj_z",stripe:"stripe___CoMOw"},Z=function(t){var o=t.propValue,r=t.style;return(0,n.jsx)("table",{className:E.table,children:(0,n.jsx)("tbody",{children:o.data.map(function(a,l){return(0,n.jsx)("tr",{className:"".concat(o.stripe&&l%2&&E.stripe," ").concat(o.thBold&&l===0&&E.bold),children:a.map(function(s,i){return(0,n.jsx)("td",{children:s},i)})},l)})})})},$=Z,K={chart:"chart___uyTEF"},Q=_(16649),q=_(87155),tt=function(t){var o=t.propValue;return(0,n.jsx)("div",{className:K.chart,children:(0,n.jsx)(q.Z,{echarts:Q,option:o.option,notMerge:!0,lazyUpdate:!0,style:{height:"100%",width:"100%"}})})},et=tt,nt={circle:"circle___k9vDg"},ot=function(t){return(0,n.jsx)("div",{className:nt.circle})},rt=ot,at={"line-shape":"line-shape___e93rv"},it=function(t){return(0,n.jsx)("div",{className:at["line-shape"]})},lt=it,st={"rect-shape":"rect-shape___nhf6Z"},ct=function(t){return(0,n.jsx)("div",{className:st["rect-shape"]})},ut=ct,dt=_(27424),z=_.n(dt),x=_(62435),ht={"svg-star-container":"svg-star-container___Z9Kt8","v-text":"v-text___IbIaG"},mt=function(t){var o=t.style,r=o.width,a=o.height,l=o.borderColor,s=o.backgroundColor,i=(0,x.useRef)(null),c=(0,x.useState)([]),u=z()(c,2),m=u[0],d=u[1];(0,x.useEffect)(function(){b(r,a)},[r,a]);var b=function(p,g){var f=[[.5,0],[.625,.375],[1,.375],[.75,.625],[.875,1],[.5,.75],[.125,1],[.25,.625],[0,.375],[.375,.375]],h=f.map(function(w){return p*w[0]+" "+g*w[1]});d(h.toString())};return(0,n.jsx)("div",{className:ht["svg-star-container"],children:(0,n.jsx)("svg",{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("polygon",{ref:i,points:m,stroke:l,fill:s,"stroke-width":"1"})})})},vt=mt,V={"text-box":"text-box___vDlFz",name:"name___SE33q",value:"value___DDx1n"},pt=function(t){var o=t.style,r=t.name;return(0,n.jsx)("div",{className:V["text-box"],style:o,title:r,children:(0,n.jsx)("div",{className:V.name,children:r||"\u53CC\u51FB\u8F93\u5165\u6587\u5B57"})})},ft=pt,gt={"svg-triangle-container":"svg-triangle-container___AtraG","v-text":"v-text___fVfmj"},_t=function(t){var o=t.style,r=o.width,a=o.height,l=o.borderColor,s=o.backgroundColor,i=(0,x.useRef)(null),c=(0,x.useState)([]),u=z()(c,2),m=u[0],d=u[1];(0,x.useEffect)(function(){b(r,a)},[r,a]);var b=function(p,g){var f=[[.5,.05],[1,.95],[0,.95]],h=f.map(function(w){return p*w[0]+" "+g*w[1]});d(h.toString())};return(0,n.jsx)("div",{className:gt["svg-triangle-container"],children:(0,n.jsx)("svg",{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("polygon",{ref:i,points:m,stroke:l,fill:s,"stroke-width":"1"})})})},xt=_t,O={width:1008,height:648,color:"#000",background:"#fff"},Ct=["lt","t","rt","r","rb","b","lb","l"],bt={lt:"nw-resize",t:"n-resize",rt:"ne-resize",r:"e-resize",rb:"se-resize",b:"s-resize",lb:"sw-resize",l:"w-resize"},C={TEXT:1,BUTTON:2,IMG:3,TABLE:4,LINE:5,TRI:6,REC:7,STAR:8,CIRCLE:9,CHART:10},P=[{type:C.TEXT,icon:"icon-drag-text",label:"\u6587\u5B57",propValue:"\u53CC\u51FB\u7F16\u8F91\u6587\u5B57",style:{width:200,height:28,fontWeight:400,letterSpacing:0},component:function(t){return(0,n.jsx)(ft,v()({},t))}},{type:C.BUTTON,icon:"icon-drag-button",label:"\u6309\u94AE",propValue:"\u6309\u94AE",style:{width:100,height:34,borderWidth:1,borderColor:"",borderRadius:"",fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"",color:"",backgroundColor:""},component:function(t){return(0,n.jsx)(W,v()({},t))}},{type:C.IMG,icon:"icon-drag-img",label:"\u56FE\u7247",propValue:"https://picsum.photos/300/200",style:{width:300,height:200,borderRadius:""},component:function(t){return(0,n.jsx)(J,v()({},t))}},{type:C.TABLE,icon:"icon-drag-table",label:"\u8868\u683C",propValue:{data:[["\u8868\u59341","\u8868\u59342","\u8868\u59343"],["\u5185\u5BB91","\u5185\u5BB92","\u5185\u5BB93"]],stripe:!0,thBold:!0},style:{width:600,height:200,fontSize:"",fontWeight:400,textAlign:"center",color:"",backgroundColor:"rgba(255, 255, 255, 1)"},component:function(t){return(0,n.jsx)($,v()({},t))}},{type:C.CHART,icon:"icon-drag-chart",label:"\u56FE\u8868",propValue:{chart:"VChart",option:{title:{text:"\u67F1\u72B6\u56FE",show:!0},legend:{show:!0},tooltip:{show:!0,trigger:"item"},xAxis:{show:!0,data:["A","B","C","D","E"]},yAxis:{},series:{type:"bar",name:"\u9500\u91CF",data:[23,61,35,77,35],itemStyle:{barBorderRadius:5,borderWidth:1,borderType:"solid",borderColor:"#73c0de",shadowColor:"#5470c6",shadowBlur:3}}}},style:{width:760,height:300,borderRadius:""},component:function(t){return(0,n.jsx)(et,v()({},t))}},{type:C.LINE,icon:"icon-drag-line",label:"\u7EBF",style:{width:200,height:2,backgroundColor:"#000"},component:function(t){return(0,n.jsx)(lt,v()({},t))}},{type:C.TRI,icon:"icon-drag-triangle",label:"\u4E09\u89D2\u5F62",style:{width:80,height:80,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"center",color:"",borderColor:"#000",backgroundColor:"rgba(255, 255, 255, 1)"},component:function(t){return(0,n.jsx)(xt,v()({},t))}},{type:C.REC,icon:"icon-drag-rectangle",label:"\u77E9\u5F62",style:{width:200,height:200,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"center",color:"",borderColor:"#000",borderWidth:1,backgroundColor:"",borderStyle:"solid",borderRadius:"",verticalAlign:"middle"},component:function(t){return(0,n.jsx)(ut,v()({},t))}},{type:C.STAR,icon:"icon-drag-star",label:"\u4E94\u89D2\u661F",style:{width:80,height:80,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"center",color:"",borderColor:"#000",backgroundColor:"rgba(255, 255, 255, 1)"},component:function(t){return(0,n.jsx)(vt,v()({},t))}},{type:C.CIRCLE,icon:"icon-drag-circle",label:"\u5706\u5F62",style:{width:200,height:200,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"center",color:"",verticalAlign:"middle"},component:function(t){return(0,n.jsx)(rt,v()({},t))}}],X={"drag-com-list":"drag-com-list___HNdKj",list:"list___DUYsi",iconfont:"iconfont___AqFtN","icon-wenben":"icon-wenben___f1NRt","icon-biaoge":"icon-biaoge___V8pn2","icon-tupian":"icon-tupian___zzsDD"},wt=function(t){var o=function(a){a.dataTransfer.setData("comType",a.target.dataset.type)};return(0,n.jsx)("div",{className:X["drag-com-list"],onDragStart:o,children:P.map(function(r,a){return(0,n.jsx)("div",{className:X.list,draggable:!0,"data-index":a,"data-type":r.type,children:(0,n.jsx)("i",{className:"iconfont ".concat(r.icon)})},a)})})},jt=wt,y=_(41777),Dt=function(t){return(0,n.jsxs)("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",style:{position:"relative",top:0,left:0},children:[(0,n.jsxs)("defs",{children:[(0,n.jsx)("pattern",{id:"smallGrid",width:"7.236328125",height:"7.236328125",patternUnits:"userSpaceOnUse",children:(0,n.jsx)("path",{d:"M 7.236328125 0 L 0 0 0 7.236328125",fill:"none",stroke:"rgba(207, 207, 207, 0.3)","stroke-width":"1"})}),(0,n.jsxs)("pattern",{id:"grid",width:"36.181640625",height:"36.181640625",patternUnits:"userSpaceOnUse",children:[(0,n.jsx)("rect",{width:"36.181640625",height:"36.181640625",fill:"url(#smallGrid)"}),(0,n.jsx)("path",{d:"M 36.181640625 0 L 0 0 0 36.181640625",fill:"none",stroke:"rgba(186, 186, 186, 0.5)","stroke-width":"1"})]})]}),(0,n.jsx)("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})},yt=Dt,A={shape:"shape___VmOGv","shape-point":"shape-point___qcRVh",delete:"delete___JJKkb",active:"active___bNgQ4"},Lt={lt:Tt,t:Rt,rt:St,r:kt,rb:Nt,b:Et,lb:Mt,l:At};function Tt(e,t){var o=e.width,r=e.height,a=e.top,l=e.left,s=Math.max(0,t.x),i=Math.max(0,t.y),c=l-s,u=a-i;e.width=o+c,e.height=r+u,e.top=i,e.left=s}function St(e,t,o){var r=e.height,a=e.top,l=e.left,s=Math.max(0,Math.min(o.width,t.x)),i=Math.max(0,t.y),c=s-l,u=a-i;e.width=c,e.height=r+u,e.top=i}function Nt(e,t,o){var r=e.top,a=e.left,l=Math.max(0,Math.min(o.width,t.x)),s=Math.max(0,Math.min(o.height,t.y)),i=l-a,c=s-r;e.width=i,e.height=c}function Mt(e,t,o){var r=e.width,a=e.top,l=e.left,s=Math.max(0,t.x),i=Math.max(0,Math.min(o.height,t.y)),c=l-s,u=i-a;e.width=r+c,e.height=u,e.left=s}function Rt(e,t){var o=e.height,r=e.top;if(!(t.y<0)){var a=r-t.y;e.height=o+a,e.top=t.y}}function kt(e,t,o){var r=o.width;if(!(t.x>r)){var a=t.x-e.left;e.width=a}}function Et(e,t,o){var r=o.height;t.y>r||(e.height=t.y-e.top)}function At(e,t){var o=e.width,r=e.left;if(!(t.x<0)){var a=r-t.x;e.width=o+a,e.left=t.x}}function Bt(e,t,o,r){Lt[e](t,o,r)}function It(e,t,o,r){var a=r.width,l=r.height,s=o.x+t.left,i=o.y+t.top;e.left=Math.max(0,Math.min(s,a-e.width)),e.top=Math.max(0,Math.min(i,l-e.height))}var zt=function(t,o){var r=o.width,a=o.height,l=/t/.test(t),s=/b/.test(t),i=/l/.test(t),c=/r/.test(t),u=0,m=0;t.length===2?(u=i?0:r,m=l?0:a):((l||s)&&(u=r/2,m=l?0:a),(i||c)&&(u=i?0:r,m=Math.floor(a/2)));var d={marginLeft:"-4px",marginTop:"-4px",left:"".concat(u,"px"),top:"".concat(m,"px"),cursor:bt[t]};return d},Vt=function(t){var o=t.style,r=t.element,a=t.children,l=t.editorClient,s=(0,y.tT)("home"),i=s.curComponent,c=s.setCurComonent,u=s.setIsClickComponent,m=s.updateCurComponent,d=function(g){u(!0),g.stopPropagation(),c(r);var f=v()({},o),h={x:g.clientX,y:g.clientY},w={top:Number(f.top),left:Number(f.left)},M=function(k){var Qt={x:k.clientX-h.x,y:k.clientY-h.y};It(f,w,Qt,O),m(f,r)},R=function S(){document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",S)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",R)},b=function(g,f){f.stopPropagation(),f.preventDefault();var h=v()({},o),w=function(S){var k={x:S.clientX-Math.round(l.left),y:S.clientY-Math.round(l.top)};Bt(g,h,k,O),m(h,r)},M=function R(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",R)};document.addEventListener("mousemove",w),document.addEventListener("mouseup",M)},j=(i==null?void 0:i.id)===r.id;return(0,n.jsxs)("div",{className:"".concat(A.shape," ").concat(j?A.active:""),onMouseDown:d,style:o,children:[j&&Ct.map(function(p){return(0,n.jsx)("div",{className:"".concat(A["shape-point"]," "),style:zt(p,o),onMouseDown:function(f){b(p,f)}},p)}),a]})},Ot=Vt,Pt={editor:"editor___wGPeX",lock:"lock___PlZuI",edit:"edit___g8kIm",component:"component___P98Jg"},Xt=x.forwardRef(function(e,t){var o=(0,y.tT)("home"),r=o.curComponent,a=o.realtimeList,l=(0,x.useRef)(null),s=function(){return l.current.getBoundingClientRect()};(0,x.useImperativeHandle)(t,function(){return{editorClient:s()}});var i=function(u){r||u.preventDefault()};return(0,n.jsxs)("div",{ref:l,className:Pt.editor,style:{width:"100%",height:"99%"},onMouseDown:i,children:[(0,n.jsx)(yt,{}),a.map(function(c,u){return(0,n.jsx)(Ot,{style:c.style,element:c,editorClient:s(),children:c.component(c)},c.id)})]})}),Yt=Xt,N={"real-time-component-list":"real-time-component-list___DixQO",list:"list___xS3kl","icon-container":"icon-container___PdGfq",name:"name___EmUss",actived:"actived___EVn_J"},Gt=function(t){var o=(0,y.tT)("home"),r=o.realtimeList,a=o.moveUpComponent,l=o.moveDownComponent,s=o.deleteComponent;return(0,n.jsx)("div",{className:N["real-time-component-list"],children:r.map(function(i,c){return(0,n.jsxs)("div",{className:"flex_start_center ".concat(N.list),children:[(0,n.jsx)("i",{className:"iconfont ".concat(i.icon)}),(0,n.jsx)("span",{className:N.name,children:i.label}),(0,n.jsxs)("div",{className:N["icon-container"],children:[(0,n.jsx)("i",{className:"iconfont icon-drag-up",onClick:function(){a(c)}}),(0,n.jsx)("i",{className:"iconfont icon-drag-down",onClick:function(){l(c)}}),(0,n.jsx)("i",{className:"iconfont icon-drag-delete",onClick:function(){s(i.id)}})]})]},c)})})},Ut=Gt,Ht={"my-button":"my-button___kCNSI"},Wt=function(t){return(0,n.jsx)("button",v()(v()({},t),{},{className:"".concat(Ht["my-button"]," ").concat(t.className),children:t.children}))},L=Wt,Ft={"my-input":"my-input___g_6GY"},Jt=function(t){return(0,n.jsx)("input",v()(v()({},t),{},{className:"".concat(Ft["my-input"]," ").concat(t.className)}))},B=Jt,D={toolbar:"toolbar___NSLzd","canvas-config":"canvas-config___pkiFM",insert:"insert___Tl0zF","num-input":"num-input___ICLDL"},Zt=function(t){var o=t.canvasStyleData,r=o===void 0?{}:o,a=t.curComponent,l=a===void 0?{}:a,s=(0,y.tT)("home"),i=s.setRealtimeList,c=function(){},u=function(){},m=function(){},d=function(){},b=function(){},j=function(){i([])},p=function(){},g=function(){},f=function(){};return(0,n.jsxs)("div",{className:"flex_start_center ".concat(D.toolbar),children:[(0,n.jsx)(L,{style:{marginLeft:"10px"},onClick:u,children:"\u64A4\u6D88"}),(0,n.jsx)(L,{style:{marginLeft:"10px"},onClick:m,children:"\u91CD\u505A"}),(0,n.jsx)(L,{style:{marginLeft:"10px"},onClick:d(!1),children:"\u9884\u89C8"}),(0,n.jsx)(L,{style:{marginLeft:"10px"},onClick:b,children:"\u4FDD\u5B58"}),(0,n.jsx)(L,{style:{marginLeft:"10px"},onClick:j,children:"\u6E05\u7A7A\u753B\u5E03"}),(0,n.jsxs)("div",{className:D["canvas-config"],children:[(0,n.jsx)("span",{children:"\u753B\u5E03\u5927\u5C0F"}),(0,n.jsx)(B,{value:r.width,className:D["num-input"]}),(0,n.jsx)("span",{children:"*"}),(0,n.jsx)(B,{value:r.height,className:D["num-input"]})]}),(0,n.jsxs)("div",{className:D["canvas-config"],children:[(0,n.jsx)("span",{children:"\u753B\u5E03\u6BD4\u4F8B"}),(0,n.jsx)(B,{onInput:f,className:D["num-input"]})," %"]})]})},$t=Zt,T={home:"home___a7EPH",left:"left____LZ0X",right:"right___q0hdW","el-select":"el-select___nSETD",center:"center___VV5Nh",content:"content___nGCOl",placeholder:"placeholder___kTIgg","global-attr":"global-attr___yfCe_"},Y=_(54513);function Kt(){var e=(0,y.tT)("home"),t=e.addRealtimeList,o=e.isClickComponent,r=e.setCurComonent,a=e.setIsClickComponent,l=(0,x.useRef)(null),s=function(d){d.preventDefault()},i=function(d){d.preventDefault(),d.stopPropagation();var b=JSON.parse(d.dataTransfer.getData("comType")),j=l.current.editorClient;if(b){var p=(0,Y.p$)(P.find(function(g){return g.type===b}))||{};p.id=(0,Y.ZP)(),p.style.top=d.clientY-j.y,p.style.left=d.clientX-j.x,t(p)}},c=function(d){d.stopPropagation(),a(!1)},u=function(){o||r(null)};return(0,n.jsxs)("div",{className:T.home,children:[(0,n.jsx)($t,{}),(0,n.jsxs)("main",{className:"flex_start_center",children:[(0,n.jsxs)("section",{className:T.left,children:[(0,n.jsx)(jt,{}),(0,n.jsx)(Ut,{})]}),(0,n.jsx)("section",{className:T.center,children:(0,n.jsx)("div",{className:T.content,onDragOver:s,onDrop:i,onMouseDown:c,onMouseUp:u,children:(0,n.jsx)(Yt,{ref:l})})}),(0,n.jsx)("section",{className:T.right})]})]})}}}]);
